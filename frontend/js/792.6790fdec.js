"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[792],{4792:function(e,l,o){o.r(l),o.d(l,{default:function(){return L}});o(4114);var a=o(5976),t=o(9746),r=o(2040),s=o(160),n=o(1738),i=o(9053),u=o(4297);const d={class:"login-container"},p={class:"form-group"},c={key:0},m={class:"form-group"},k={key:0},f={style:{color:"red","font-size":"16px"}};var b=(0,a.pM)({__name:"LoginCom",setup(e){const l=u.Ik({email:u.Yj().email().required(),password:u.Yj().required().min(8)}),{handleSubmit:o,errors:b,defineField:v}=(0,n.mN)({validationSchema:l,initialValues:{email:"",password:""}}),[g,L]=v("email"),[h,w]=v("password"),y=(0,i.rd)(),R=(0,r.KR)(),_=o((async e=>{let l=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});l=await l.json(),200===l.statusCode?(localStorage.setItem("id",l.userid),localStorage.setItem("token",l.access_token),y.push("/home")):R.value=l.message}));return(0,a.sV)((()=>{localStorage.clear()})),(e,l)=>{const o=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",d,[l[8]||(l[8]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.Lk)("form",{onSubmit:l[2]||(l[2]=(0,t.D$)(((...e)=>(0,r.R1)(_)&&(0,r.R1)(_)(...e)),["prevent"]))},[(0,a.Lk)("div",p,[l[3]||(l[3]=(0,a.Lk)("label",{for:"email"},"Email:",-1)),(0,a.bo)((0,a.Lk)("input",(0,a.v6)({type:"email",id:"email","onUpdate:modelValue":l[0]||(l[0]=e=>(0,r.i9)(g)?g.value=e:null),placeholder:"Enter your email"},(0,r.R1)(L)),null,16),[[t.Jo,(0,r.R1)(g)]]),(0,r.R1)(b).email?((0,a.uX)(),(0,a.CE)("span",c,(0,s.v_)((0,r.R1)(b).email),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",m,[l[4]||(l[4]=(0,a.Lk)("label",{for:"password"},"Password:",-1)),(0,a.bo)((0,a.Lk)("input",(0,a.v6)({type:"password",id:"password","onUpdate:modelValue":l[1]||(l[1]=e=>(0,r.i9)(h)?h.value=e:null),placeholder:"Enter your password"},(0,r.R1)(w)),null,16),[[t.Jo,(0,r.R1)(h)]]),(0,r.R1)(b).password?((0,a.uX)(),(0,a.CE)("span",k,(0,s.v_)((0,r.R1)(b).password),1)):(0,a.Q3)("",!0)]),l[5]||(l[5]=(0,a.Lk)("button",{type:"submit"},"Login",-1))],32),l[9]||(l[9]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(o,{to:"/forgot-password"},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)(" Forgot Password ? ")]))),_:1}),l[10]||(l[10]=(0,a.Lk)("br",null,null,-1)),l[11]||(l[11]=(0,a.Lk)("br",null,null,-1)),l[12]||(l[12]=(0,a.Lk)("br",null,null,-1)),(0,a.bF)(o,{to:"/register"},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)(" Want to Register? ")]))),_:1}),(0,a.Lk)("p",f,(0,s.v_)(R.value),1)])}}}),v=o(1169);const g=(0,v.A)(b,[["__scopeId","data-v-108b2ddc"]]);var L=g}}]);
//# sourceMappingURL=792.6790fdec.js.map