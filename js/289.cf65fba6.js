"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[289],{4289:function(e,r,s){s.r(r),s.d(r,{default:function(){return y}});s(4114),s(4603),s(7566),s(8721);var a=s(5976),o=s(9746),n=s(2040),t=s(160),i=s(1738),u=s(9053),d=s(4297);const l={class:"reset-password-container"},p={class:"form-group"},c={key:0},f={class:"form-group"},w={key:0},h={style:{color:"red","font-size":"16px"}};var v=(0,a.pM)({__name:"PassConfirmpas",setup(e){const r=d.Ik({password:d.Yj().required("Password is required").min(8,"Password must be at least 8 characters"),confirmpassword:d.Yj().oneOf([d.KR("password")],"Passwords must match").required("Confirm Password is required")}),{handleSubmit:s,errors:v,defineField:m}=(0,i.mN)({validationSchema:r,initialValues:{password:"",confirmpassword:""}}),[k,y]=m("password"),[b,R]=m("confirmpassword"),g=(0,u.rd)(),L=(0,n.KR)(""),P=(0,n.KR)("");(0,a.sV)((()=>{const e=new URLSearchParams(window.location.search);P.value=e.get("token")||""}));const C=s((async e=>{let r=await fetch("http://localhost:3000/auth/reset-password",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e.password,token:P.value})}),s=await r.json();200===s.statusCode?(L.value="Your password has been reset successfully.",g.push("/")):L.value=s.message||"An error occurred. Please try again."}));return(e,r)=>{const s=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",l,[r[7]||(r[7]=(0,a.Lk)("h1",null,"Reset Password",-1)),(0,a.Lk)("form",{onSubmit:r[2]||(r[2]=(0,o.D$)(((...e)=>(0,n.R1)(C)&&(0,n.R1)(C)(...e)),["prevent"]))},[(0,a.Lk)("div",p,[r[3]||(r[3]=(0,a.Lk)("label",{for:"password"},"Password:",-1)),(0,a.bo)((0,a.Lk)("input",(0,a.v6)({type:"password",id:"password","onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.i9)(k)?k.value=e:null),placeholder:"Enter your new password"},(0,n.R1)(y)),null,16),[[o.Jo,(0,n.R1)(k)]]),(0,n.R1)(v).password?((0,a.uX)(),(0,a.CE)("span",c,(0,t.v_)((0,n.R1)(v).password),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",f,[r[4]||(r[4]=(0,a.Lk)("label",{for:"confirmpassword"},"Confirm Password:",-1)),(0,a.bo)((0,a.Lk)("input",(0,a.v6)({type:"password",id:"confirmpassword","onUpdate:modelValue":r[1]||(r[1]=e=>(0,n.i9)(b)?b.value=e:null),placeholder:"Confirm your new password"},(0,n.R1)(R)),null,16),[[o.Jo,(0,n.R1)(b)]]),(0,n.R1)(v).confirmpassword?((0,a.uX)(),(0,a.CE)("span",w,(0,t.v_)((0,n.R1)(v).confirmpassword),1)):(0,a.Q3)("",!0)]),r[5]||(r[5]=(0,a.Lk)("button",{type:"submit"},"Reset Password",-1))],32),(0,a.Lk)("p",h,(0,t.v_)(L.value),1),(0,a.bF)(s,{to:"/"},{default:(0,a.k6)((()=>r[6]||(r[6]=[(0,a.eW)("Back to Login")]))),_:1})])}}}),m=s(1169);const k=(0,m.A)(v,[["__scopeId","data-v-a0fe0f3a"]]);var y=k},2812:function(e){var r=TypeError;e.exports=function(e,s){if(e<s)throw new r("Not enough arguments");return e}},4603:function(e,r,s){var a=s(6840),o=s(9504),n=s(655),t=s(2812),i=URLSearchParams,u=i.prototype,d=o(u.append),l=o(u["delete"]),p=o(u.forEach),c=o([].push),f=new i("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(u,"delete",(function(e){var r=arguments.length,s=r<2?void 0:arguments[1];if(r&&void 0===s)return l(this,e);var a=[];p(this,(function(e,r){c(a,{key:r,value:e})})),t(r,1);var o,i=n(e),u=n(s),f=0,w=0,h=!1,v=a.length;while(f<v)o=a[f++],h||o.key===i?(h=!0,l(this,o.key)):w++;while(w<v)o=a[w++],o.key===i&&o.value===u||d(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,r,s){var a=s(6840),o=s(9504),n=s(655),t=s(2812),i=URLSearchParams,u=i.prototype,d=o(u.getAll),l=o(u.has),p=new i("a=1");!p.has("a",2)&&p.has("a",void 0)||a(u,"has",(function(e){var r=arguments.length,s=r<2?void 0:arguments[1];if(r&&void 0===s)return l(this,e);var a=d(this,e);t(r,1);var o=n(s),i=0;while(i<a.length)if(a[i++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,r,s){var a=s(3724),o=s(9504),n=s(2106),t=URLSearchParams.prototype,i=o(t.forEach);a&&!("size"in t)&&n(t,"size",{get:function(){var e=0;return i(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=289.cf65fba6.js.map